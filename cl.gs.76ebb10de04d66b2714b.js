webpackJsonp(["cl.gs"],{577:function(e,t,s){"use strict";t.a=function(e,t,s,o){if(t.every(e=>0===e.length))return n(t.length);return a(t,s,o).filter(n=>{t[n].push(s);const a=r(e,t,o);return t[n].pop(),a})};var n=s(43),o=(s.n(n),s(162));function r(e,t,s){if(0===e[s].length&&++s===e.length)return!0;const n=e[s],o=n.pop();let l=!1;for(const i of a(t,o,s)){const n=t[i];if(n.push(o),l=r(e,t,s),n.pop(),l)break}return n.push(o),l}function a(e,t,s){const n=e.length>>1,o=l(e,t,s,0,n),r=l(e,t,s,n,e.length);return 0===o.length?r:0===r.length?o:o.concat(r)}function l(e,t,s,n,r){const a=[],l=Object(o.a)(t);for(let o=n;o<r;++o){const n=e[o];let r=!0;for(const e of n)if(e.country===t.country||l(e)){if(r=!1,e&&e.pairing&&e.pairing.id===t.id)return[];break}r&&n.length<=s&&a.push(o)}return a}},599:function(e,t,s){"use strict";var n=s(0),o=s.n(n),r=s(2),a=s(47),l=s(170);const i=r["a"].div`
  display: flex;
  flex-wrap: wrap;
  align-items: center;

  @media (max-width: 999px) {
    justify-content: center;
  }
`;t.a=class extends n.PureComponent{constructor(){super(...arguments),this.onBallPick=(e=>{const t=+(e.target.dataset.group||0);this.props.onPick(t)})}render(){const{completed:e,possibleGroups:t}=this.props;return o.a.createElement(i,null,!e&&t&&t.map(e=>o.a.createElement(l.a,{"data-group":e,onClick:this.onBallPick},Object(a.a)(e))))}}},81:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(0),o=s.n(n),r=s(50),a=(s.n(r),s(42)),l=(s.n(a),s(577)),i=s(57),u=s(47),c=s(58),p=s(114),m=s(59),h=s(60),d=s(61),f=s(599),g=s(62),b=s(46);t.default=class extends n.PureComponent{constructor(e){super(e),this.onReset=(()=>{this.reset(!1)}),this.onTeamBallPick=(e=>{const{groups:t,pots:s,currentPotNum:n}=this.state,o=s[n],a=o.slice(),i=o.splice(e,1)[0],u=Object(l.a)(s,t,i,n);this.setState({hungPot:a,selectedTeam:i,possibleGroups:u,possibleGroupsShuffled:r(u),pickedGroup:null})}),this.onGroupBallPick=(e=>{const{groups:t,airborneTeams:s,selectedTeam:n,pots:o,currentPotNum:r}=this.state;if(!n)return void this.setState({error:"shit"});t[e].push(n);const a=o[r].length>0?r:r+1;s.push(n);const l=this.animateCell(e);this.setState({selectedTeam:null,pickedGroup:e,hungPot:o[a],possibleGroups:null,possibleGroupsShuffled:null,currentPotNum:a,completed:a>=o.length,airborneTeams:s},async()=>{const e=this.state.airborneTeams.filter(e=>e!==n);await l,this.setState({airborneTeams:e})})}),this.reset(!0)}reset(e){const t=this.props.pots,s=t.map(e=>r(e)),n=s[0],o={drawId:a("draw-"),initialPots:t,pots:s,groups:n.map(e=>[]),maxTeamsInGroup:s.length,airborneTeams:[],currentPotNum:0,selectedTeam:null,pickedGroup:null,hungPot:n,possibleGroups:null,possibleGroupsShuffled:null,completed:!1,error:null};e?this.state=o:this.setState(o)}animateCell(e){const{selectedTeam:t,currentPotNum:s}=this.state;if(!t)return;const n=document.querySelector(`[data-cellid='${t.id}']`),o=`[data-cellid='${Object(u.a)(e)}${s}']`,r=document.querySelector(o);return n instanceof HTMLElement&&r instanceof HTMLElement?Object(i.a)(n,r,350):void 0}render(){const{initialPots:e,pots:t,groups:s,maxTeamsInGroup:n,currentPotNum:r,hungPot:a,airborneTeams:l,selectedTeam:i,pickedGroup:u,possibleGroups:P,possibleGroupsShuffled:T,completed:G}=this.state;return o.a.createElement(b.default,null,o.a.createElement(m.a,null,o.a.createElement(c.a,{selectedTeams:i&&[i],initialPots:e,pots:t,currentPotNum:r}),o.a.createElement(p.a,{maxTeams:n,currentPotNum:r,groups:s,possibleGroups:P,airborneTeams:l})),o.a.createElement(h.a,null,o.a.createElement(d.a,{completed:G,selectedTeam:i,pot:a,onPick:this.onTeamBallPick}),o.a.createElement(g.a,{long:!1,completed:G,selectedTeam:i,pickedGroup:u,possibleGroups:P,numGroups:s.length,reset:this.onReset}),o.a.createElement(f.a,{completed:G,possibleGroups:T,onPick:this.onGroupBallPick})))}}}});